<p>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~`</p>
<h1>upload a file</h1>
<p>you can upload a file and/or paste the content here</p>

<!-- Place inside the <head> of your HTML -->
<script src="http://cdn.ckeditor.com/4.4.6/standard/ckeditor.js"></script>
<script type="text/javascript">
var imgStr = '<p><img alt="Smiley face" src="http://scienceblogs.com/gregladen/files/2012/12/Beautifull-cat-cats-14749885-1600-1200.jpg" style="height:50px" /></p>';

</script>

<input id="insertImgInput" name="insertImgInput" type="file"/><br>
<button id="intfile" onclick="insertAjax()">Insert this Image</button><br><br><br><br>



<button id="intI" onclick="insertImg()">Insert cat Image</button>

<form action="/upload" method="post" enctype="multipart/form-data">
  	<input type="text" name="category" placeholder="category"/><br>
  	<input type="text" name="title" placeholder="document title"/><br>

  	<textarea name="content" id="editor1" rows="10" cols="80"></textarea>

    <input name="file" type="file"/><br>
    <input type="submit" name="submit" value="submit" />
</form>


<script>
CKEDITOR.replace( 'editor1', {
    height: '500', 
    width: '1000',
    on: {
    	instanceReady: function() {
           // this is current editor instance
           this.insertHtml('<h1>someText</h1>');
       	}
    }
});

function insertImg (){
	CKEDITOR.instances.editor1.insertHtml(imgStr);
}



var client = new XMLHttpRequest();

function insertAjax (){
    var file = document.getElementById("insertImgInput");
    var formData = new FormData();
    formData.append("upload", file.files[0]);

    client.open("post", "http://lotus-zen.com/file", true);
    client.setRequestHeader("Content-Type", "multipart/form-data");
    client.send(formData);
}

client.onreadystatechange = function(){
  if (client.readyState == 4 && client.status == 200){
     alert(client.statusText);
  }
}



</script>














$("insertImgInput").val()
